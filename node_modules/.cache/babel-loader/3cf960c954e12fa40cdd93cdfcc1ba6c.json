{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import axiosInstance from'../axiosConfig';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Signup=()=>{const navigate=useNavigate();const[formData,setFormData]=useState({username:'',email:'',password:'',firstName:'',lastName:'',birthDate:'',phoneNumber:'',role:['ROLE_USER']// Include role here\n});const handleChange=e=>{setFormData({...formData,[e.target.name]:e.target.value});};const handleSubmit=async e=>{e.preventDefault();try{// Format the birthDate to the required format before sending\nconst formattedData={...formData,birthDate:new Date(formData.birthDate).toLocaleDateString('en-GB')// Format to \"dd/MM/yyyy\"\n};await axiosInstance.post('/api/auth/signup',formattedData,{headers:{'Content-Type':'application/json'// Ensure the content type is set to JSON\n}});navigate('/login');// Redirect to login page\n}catch(error){console.error('Signup failed:',error.response?error.response.data:error.message);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Signup\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",placeholder:\"Username\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Password\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"firstName\",placeholder:\"First Name\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"lastName\",placeholder:\"Last Name\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"birthDate\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"phoneNumber\",placeholder:\"Phone Number\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Sign Up\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Already have an account? \",/*#__PURE__*/_jsx(\"a\",{href:\"/login\",children:\"Login\"})]})]});};export default Signup;","map":{"version":3,"names":["React","useState","useNavigate","axiosInstance","jsx","_jsx","jsxs","_jsxs","Signup","navigate","formData","setFormData","username","email","password","firstName","lastName","birthDate","phoneNumber","role","handleChange","e","target","name","value","handleSubmit","preventDefault","formattedData","Date","toLocaleDateString","post","headers","error","console","response","data","message","children","onSubmit","type","placeholder","onChange","required","href"],"sources":["/home/rouaa/Desktop/social-media-front/src/components/Signup.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axiosInstance from '../axiosConfig';\n\nconst Signup = () => {\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    username: '',\n    email: '',\n    password: '',\n    firstName: '',\n    lastName: '',\n    birthDate: '',\n    phoneNumber: '',\n    role: ['ROLE_USER'], // Include role here\n  });\n\n  const handleChange = (e) => {\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      // Format the birthDate to the required format before sending\n      const formattedData = {\n        ...formData,\n        birthDate: new Date(formData.birthDate).toLocaleDateString('en-GB'), // Format to \"dd/MM/yyyy\"\n      };\n\n      await axiosInstance.post('/api/auth/signup', formattedData, {\n        headers: {\n          'Content-Type': 'application/json', // Ensure the content type is set to JSON\n        },\n      });\n\n      navigate('/login'); // Redirect to login page\n    } catch (error) {\n      console.error('Signup failed:', error.response ? error.response.data : error.message);\n    }\n  };\n\n  return (\n    <div>\n      <h2>Signup</h2>\n      <form onSubmit={handleSubmit}>\n        <input type=\"text\" name=\"username\" placeholder=\"Username\" onChange={handleChange} required />\n        <input type=\"email\" name=\"email\" placeholder=\"Email\" onChange={handleChange} required />\n        <input type=\"password\" name=\"password\" placeholder=\"Password\" onChange={handleChange} required />\n        <input type=\"text\" name=\"firstName\" placeholder=\"First Name\" onChange={handleChange} required />\n        <input type=\"text\" name=\"lastName\" placeholder=\"Last Name\" onChange={handleChange} required />\n        <input type=\"date\" name=\"birthDate\" onChange={handleChange} required />\n        <input type=\"text\" name=\"phoneNumber\" placeholder=\"Phone Number\" onChange={handleChange} required />\n        <button type=\"submit\">Sign Up</button>\n      </form>\n      <p>Already have an account? <a href=\"/login\">Login</a></p>\n    </div>\n  );\n};\n\nexport default Signup;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}